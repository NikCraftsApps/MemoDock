<Window x:Class="MemoDock.Views.PinnedWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:MemoDock.ViewModels"
        Title="Pinned - MemoDock"
        Height="460" Width="640" WindowStartupLocation="CenterOwner">

    <Window.DataContext>
        <vm:PinnedViewModel/>
    </Window.DataContext>

    <!-- Pinned list with drag & drop -->
    <ListBox x:Name="PinnedList"
             ItemsSource="{Binding Pinned}"
             Background="{x:Null}" BorderThickness="0"
             SelectionMode="Extended"
             HorizontalContentAlignment="Stretch"
             AllowDrop="True"
             PreviewMouseLeftButtonDown="PinnedList_PreviewMouseLeftButtonDown"
             MouseMove="PinnedList_MouseMove"
             DragOver="PinnedList_DragOver"
             Drop="PinnedList_Drop"
             ScrollViewer.CanContentScroll="True"
             VirtualizingPanel.IsVirtualizing="True"
             VirtualizingPanel.VirtualizationMode="Recycling">
        <ListBox.ItemsPanel>
            <ItemsPanelTemplate>
                <VirtualizingStackPanel/>
            </ItemsPanelTemplate>
        </ListBox.ItemsPanel>

        <ListBox.ItemContainerStyle>
            <Style TargetType="ListBoxItem">
                <Setter Property="Padding" Value="0"/>
                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            </Style>
        </ListBox.ItemContainerStyle>

        <ListBox.ItemTemplate>
            <DataTemplate>
                <Border Style="{StaticResource Card}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding DisplayText}"
                                   Width="420"
                                   TextTrimming="CharacterEllipsis"/>
                        <Button Style="{StaticResource PrimaryButton}"
                                Content="Copy"
                                Command="{Binding CopyToClipboardCommand}"
                                Margin="10,0,0,0"/>
                    </StackPanel>
                </Border>
            </DataTemplate>
        </ListBox.ItemTemplate>
    </ListBox>
</Window>
